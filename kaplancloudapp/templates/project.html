{% extends "index.html" %}
{% load static %}
{% block head %}
<script type="text/javascript" src="{% static 'project.js' %}"></script>
{% endblock %}
{% block div %}
<header id="header-project">
  <nav>
    <!--<a class="disabled" href="#" title="Not yet implemented">Import</a> TODO-->
    <!--<a class="disabled" href="#" title="Not yet implemented">Export</a> TODO-->
    <!--<a class="disabled" href="#" title="Not yet implemented">Settings</a> TODO-->
    <!--<a class="disabled" href="#" title="Not yet implemented">Archive</a> TODO-->
    {% if not user.is_authenticated %}
    <a id="logout" href="{% url 'login' %}"><span class="material-icons" title="login">login</span></a>
    {% else %}
    <a id="logout" href="{% url 'logout' %}"><span class="material-icons" title="logout">logout</span></a>
    {% endif %}
  </nav>
</header>
<div id="project">
  <table>
    <tr>
      <th><input id="checkbox-main" type="checkbox"></th>
      <th>Name</th>
      <th>Source Language</th>
      <th>Target Language</th>
      <th>Due by</th>
    </tr>
    {% for file in files %}
    <tr class="file" id="{{ file.id }}">
      <th><input class="checkbox" type="checkbox"></th>
      <td><a href="{% url 'editor' file.id %}">{{file.name}}</a></td>
      <td>{{file.source_language}}</td>
      <td>{{file.target_language}}</td>
      <td>
          {% if file.due_by %}
            {{file.due_by}}
          {% elif project.due_by %}
            {{project.due_by}}
          {% else %}
            -
          {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>
</div>
<div id="context-menu">
  <button id="context-btn-download-translation" type="button">Download Translation</button>
</div>
{% csrf_token %}
{% endblock %}
